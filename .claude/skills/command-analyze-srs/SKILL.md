---
name: analyze-srs
description: "요구사항 분석(SRS) 스킬. 불명확한 요청을 체계적으로 분석하여 구체적인 요구사항 명세서(Software Requirements Specification)를 작성합니다. Use for requirements analysis tasks: (1) 불명확한 요청의 구체화, (2) 목표 파악 및 범위 정의, (3) 제약사항 식별 및 예상 결과물 정의, (4) 기능/비기능 요구사항 분류. 트리거: '요구사항', '명세서', '스펙', 'SRS', 'specification', 'requirement', '기능 정의'."
keywords:
  - 요구사항
  - 명세서
  - 스펙
  - SRS
  - 기능 정의
  - specification
  - requirement
---

# Analyze SRS

사용자의 요청을 분석하여 구체적인 요구사항 명세서(SRS)를 작성하는 스킬입니다.

## 목적

- 불명확한 요청을 명확하게 구조화
- 작업 범위와 목표를 구체적으로 정의
- cc:implement 전에 실행하여 정확한 작업 방향 설정
- 분석 결과를 문서로 저장하여 참고 자료 제공

## 핵심 원칙

1. **명확성 우선**: 불명확한 부분은 AskUserQuestion 도구를 사용하여 반드시 재질의
2. **구조화**: 요구사항을 체계적으로 정리
3. **범위 정의**: 작업 경계를 명확히 설정
4. **문서화**: 분석 결과를 구조화된 문서로 저장
5. **분석 전용**: 실제 작업을 실행하지 않고 분석만 수행

## 워크플로우

```
요청 수신 → 초기 분석 → 재질의 → 구조화 → 문서 작성
              ↓ (불명확)
          명확해질 때까지 반복
```

### 1단계: 요청 수신

사용자 요청을 받아 분석을 시작합니다.

**확인 항목:**
- 요청의 핵심 내용은 무엇인가?
- 기술적/비기술적 요청인가?
- 새로운 기능인가, 기존 기능 수정인가?

### 2단계: 초기 분석

요청을 파악하여 다음 항목을 식별합니다:

- **목표**: 최종적으로 달성하고자 하는 것
- **범위**: 작업의 경계
- **맥락**: 관련 시스템, 기존 코드, 배경 정보

### 3단계: 재질의 (불명확 시)

> **도구 사용**: 재질의는 반드시 **AskUserQuestion** 도구를 사용하여 수행합니다.
> **실행 시점**: 이 단계는 **PLAN 단계**에서 planner가 수행합니다. WORK 단계의 worker는 재질의를 수행하지 않습니다.

다음 항목이 명확하지 않으면 AskUserQuestion 도구를 사용하여 반드시 질문합니다:

| 항목 | 질문 예시 |
|------|----------|
| 목표 | "최종적으로 무엇을 달성하고 싶으신가요?" |
| 범위 | "어디까지 구현/수정해야 하나요?" |
| 기술 스택 | "사용할 기술이나 프레임워크가 있나요?" |
| 제약사항 | "특별한 제약사항이나 요구사항이 있나요?" |
| 우선순위 | "가장 중요한 기능은 무엇인가요?" |
| 예상 결과 | "어떤 결과물을 기대하시나요?" |
| 기존 시스템 | "현재 관련 코드나 시스템이 있나요?" |

**재질의 가이드라인:**

1. **AskUserQuestion 도구 사용**: 모든 재질의는 AskUserQuestion 도구를 사용하여 수행
2. **추측하지 말고 질문하기**: 불확실한 부분은 가정하지 않음
3. **구체적인 선택지 제시하기**: 열린 질문보다 선택지 제공
4. **명확해질 때까지 반복하기**: 한 번에 모든 정보를 얻으려 하지 않음
5. **우선순위 있는 질문**: 가장 중요한 불명확 항목부터 질문

**재질의 예시:**
```
"API 성능 개선해줘"
→ "현재 어떤 API가 성능 문제가 있나요? (특정 엔드포인트, 전체 등)"
→ "현재 응답 시간은 어느 정도이고, 목표 응답 시간은 얼마인가요?"
→ "성능 저하의 원인을 파악하셨나요? (DB 쿼리, 네트워크, 로직 등)"
```

### 4단계: 구조화

명확해진 요구사항을 다음 구조로 정리합니다:

- **목표**: 최종 달성 목표
- **범위**: 작업 경계 (포함/제외 항목)
- **기능 요구사항**: 구현할 기능 목록
- **비기능 요구사항**: 성능, 보안, 호환성 등
- **제약사항**: 기술적/시간적/리소스 제약
- **의존성**: 기존 시스템/코드와의 관계
- **예상 결과물**: 파일, 문서, 기능 등
- **위험 요소**: 예상되는 어려움이나 리스크

### 5단계: 문서 작성

분석 결과를 문서로 저장합니다.

**저장 위치:**
```
.workflow/<YYYYMMDD>-<HHMMSS>/work/WXX-<작업명>.md
```

**경로 구성:**
- `<YYYYMMDD>-<HHMMSS>`: 작업 디렉터리 (날짜-시분초)
- `work/`: 작업 내역 디렉터리
- `WXX-<작업명>.md`: 태스크별 작업 내역 파일
- 예: `.workflow/20260203-164500/work/W01-로그인기능요구사항분석.md`

## 문서 템플릿

```markdown
# [요청 제목]

- 분석 일시: YYYY-MM-DD HH:MM:SS (KST)
- 원본 요청: [사용자의 원본 요청]

## 요약

[1-2문장으로 요청 요약]

## 목표

[최종적으로 달성하고자 하는 목표]

## 범위

### 포함 사항
- 항목 1
- 항목 2

### 제외 사항
- 항목 1
- 항목 2

## 요구사항

### 기능 요구사항
1. 기능 1: 설명
2. 기능 2: 설명

### 비기능 요구사항
- 성능: 요구사항
- 보안: 요구사항
- 호환성: 요구사항

## 제약사항

- 제약 1
- 제약 2

## 기술 스택 (해당 시)

- 언어: [언어]
- 프레임워크: [프레임워크]
- 라이브러리: [라이브러리]

## 예상 결과물

- 파일 1: 경로 및 설명
- 파일 2: 경로 및 설명

## 의존성

- 기존 시스템/코드: 관계 설명
- 외부 의존성: 설명

## 위험 요소 및 고려사항

| 위험 | 영향 | 완화 방안 |
|------|------|----------|
| 위험 1 | 영향 설명 | 완화 방법 |

## 다음 단계

이 분석 결과를 바탕으로 다음 명령어 실행 가능:
```
cc:implement [구체적인 작업 내용]
```
```

## 결과 보고 형식

분석 완료 후 다음 형식으로 결과를 보고합니다:

```markdown
## 요구사항 분석 완료

### 분석 문서
- **경로**: `.workflow/<YYYYMMDD>-<HHMMSS>/work/WXX-<작업명>.md`
- **작성 일시**: YYYY-MM-DD HH:MM:SS (KST)

### 요약
[1-2문장 요약]

### 주요 내용
- **목표**: [목표]
- **범위**: [범위 요약]
- **예상 결과물**: [결과물 요약]

### 다음 단계
이 분석 결과를 바탕으로 `cc:implement` 명령어로 작업을 진행할 수 있습니다.
```

## 주의사항

1. **명확성 최우선**: 불명확하면 AskUserQuestion 도구를 사용하여 반드시 재질의 (PLAN 단계에서만)
2. **범위 제한**: 분석만 수행, 실제 작업 실행하지 않음
3. **문서 저장 필수**: 모든 분석 결과는 문서로 저장
4. **구조화된 출력**: 일관된 템플릿 사용
5. **plan과의 차이**: plan은 실행 계획 수립, analyze는 요구사항 분석

## cc:analyze와의 연동

cc:analyze 명령어에서 키워드 기반으로 이 스킬을 자동 호출합니다.

**호출 흐름:**
```
cc:analyze "로그인 기능 요구사항 분석"
    ↓
키워드 감지: "요구사항" → command-analyze-srs 스킬 선택
    ↓
orchestrator 워크플로우 실행:
INIT → PLAN → WORK → REPORT
                  ↑
        command-analyze-srs 스킬 실행
```

**키워드 매핑:**
- 요구사항, 명세서, 스펙, SRS, 기능 정의, specification, requirement → command-analyze-srs

cc:analyze는 orchestrator 워크플로우를 따르며, command-analyze-srs 스킬은 WORK 단계에서 worker가 실행합니다.

> **WORK 단계 실행 시 주의**: 이 스킬이 WORK 단계의 worker에 의해 실행될 경우, 3단계 재질의는 건너뜁니다. 모든 재질의는 PLAN 단계에서 planner가 AskUserQuestion 도구를 사용하여 완료한 상태이므로, worker는 계획서에 명시된 요구사항만으로 분석을 수행합니다.
